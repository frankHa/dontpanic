#ifndef DP_CORE_HPP
#define DP_CORE_HPP
//dp includes
#include "defines.hpp"
//Qt includes
#include <QObject>
// ---------------------------------------------------------------------------------
//forward decl:
class QTextEdit;
class KXMLGUIClient;
class KAction;
// ---------------------------------------------------------------------------------
namespace dp
{
  // ---------------------------------------------------------------------------------
  class KMainWidget;
  // ---------------------------------------------------------------------------------
  class DP_EXPORT dont_panik_core: public QObject
  {
      // ---------------------------------------------------------------------------------
      Q_OBJECT
      // ---------------------------------------------------------------------------------
    public:
      // ---------------------------------------------------------------------------------
      dont_panik_core ( KXMLGUIClient *gui_client, QWidget *parent );
      // ---------------------------------------------------------------------------------
    public:
      // ---------------------------------------------------------------------------------
      //virtual void set_read_write ( bool rw );
      // ---------------------------------------------------------------------------------
      //virtual void setModified ( bool modified );
      // ---------------------------------------------------------------------------------
      /**
      * This must be implemented by each part
      */
      virtual bool openFile();
      // ---------------------------------------------------------------------------------
      /**
       * This must be implemented by each read-write part
       */
      virtual bool saveFile();
      // ---------------------------------------------------------------------------------
      virtual bool is_read_write()const;
      // ---------------------------------------------------------------------------------
      virtual QWidget* widget();
      // ---------------------------------------------------------------------------------
    protected:
      // ---------------------------------------------------------------------------------
      KAction *save;
      // ---------------------------------------------------------------------------------
    private:
      // ---------------------------------------------------------------------------------
      bool _M_read_write;
      // ---------------------------------------------------------------------------------
      KXMLGUIClient * _M_gui_client;
      // ---------------------------------------------------------------------------------
      KMainWidget *_M_widget;
      // ---------------------------------------------------------------------------------

  };
  // ---------------------------------------------------------------------------------
}//dp
// ---------------------------------------------------------------------------------
#endif//DP_CORE_HPP
