#ifndef TIMETRACKER_H
#define TIMETRACKER_H

#include <libdontpanic/defines.hpp>
#include <QObject>

class QUuid;
namespace dp
{
  // ---------------------------------------------------------------------------------
  FORWARD_DECL(Action);
  class ActionTemplate;
  // ---------------------------------------------------------------------------------
  class TimeTracker: public QObject
  {
      // ---------------------------------------------------------------------------------
      Q_OBJECT
      Q_CLASSINFO ( "D-Bus Interface", "org.dontpanic.TimeTracker" )
      // ---------------------------------------------------------------------------------
    public:
      // ---------------------------------------------------------------------------------
      TimeTracker ( QObject* parent = 0 );
      // ---------------------------------------------------------------------------------
    public slots:
      // ---------------------------------------------------------------------------------
      void startNewAction();
      // ---------------------------------------------------------------------------------
      void startNewActionFrom ( ActionTemplate const& _template );
      void startNewActionFromTemplate(QUuid const& _template_id);
      // ---------------------------------------------------------------------------------
      void stopCurrentAction();
      // ---------------------------------------------------------------------------------
      private:
      // ---------------------------------------------------------------------------------
      void init();
      // ---------------------------------------------------------------------------------
    private:
      // ---------------------------------------------------------------------------------
      Action_ptr _M_current_action;
      // ---------------------------------------------------------------------------------
  };
  // ---------------------------------------------------------------------------------
}
#endif // TIMETRACKER_H
